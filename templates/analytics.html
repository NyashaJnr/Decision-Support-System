<!-- analytics.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analytics Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      .sidebar {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 100;
        padding: 48px 0 0;
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
        background-color: #f8f9fa;
        width: 250px;
      }

      .sidebar-sticky {
        position: relative;
        top: 0;
        height: calc(100vh - 48px);
        padding-top: 0.5rem;
        overflow-x: hidden;
        overflow-y: auto;
      }

      .sidebar .nav-link {
        font-weight: 500;
        color: #333;
        padding: 0.75rem 1rem;
        display: flex;
        align-items: center;
        transition: all 0.3s;
      }

      .sidebar .nav-link:hover {
        color: #007bff;
        background-color: #e9ecef;
      }

      .sidebar .nav-link i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
      }

      .sidebar .nav-link.active {
        color: #007bff;
        background-color: #e9ecef;
      }

      .main-content {
        margin-left: 250px;
        padding: 20px;
      }

      .dashboard-card {
        border: none;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
        margin-bottom: 20px;
      }

      .dashboard-card:hover {
        transform: translateY(-5px);
      }

      .dashboard-icon {
        font-size: 2rem;
        margin-bottom: 15px;
      }

      .hr-icon {
        color: #4caf50;
      }
      .supply-chain-icon {
        color: #2196f3;
      }
      .transport-icon {
        color: #ff9800;
      }
      .finance-icon {
        color: #9c27b0;
      }
      .it-icon {
        color: #607d8b;
      }
      .production-icon {
        color: #e91e63;
      }
      .sales-icon {
        color: #00bcd4;
      }
    </style>
  </head>

  <body>
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="sidebar-sticky">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="/dashboard">
              <i class="fas fa-home"></i>
              Home
            </a>
          </li>
          {% if current_user.role == 'admin' or current_user.department == 'HR'
          %}
          <li class="nav-item">
            <a class="nav-link" href="/hr-dashboard">
              <i class="fas fa-users hr-icon"></i>
              HR Analytics
            </a>
          </li>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Supply Chain' %}
          <li class="nav-item">
            <a class="nav-link" href="/supply-chain-dashboard">
              <i class="fas fa-truck supply-chain-icon"></i>
              Supply Chain Analytics
            </a>
          </li>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Transport' %}
          <li class="nav-item">
            <a class="nav-link" href="/transport-dashboard">
              <i class="fas fa-shipping-fast transport-icon"></i>
              Transport Analytics
            </a>
          </li>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Finance' %} {% endif %} {% if
          current_user.role == 'admin' or current_user.department == 'IT' %}
          <li class="nav-item">
            <a class="nav-link" href="/it-dashboard">
              <i class="fas fa-laptop-code it-icon"></i>
              IT Analytics
            </a>
          </li>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Production' %}
          <li class="nav-item">
            <a class="nav-link" href="/production-dashboard">
              <i class="fas fa-industry production-icon"></i>
              Production Analytics
            </a>
          </li>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Sales' %}
          <li class="nav-item">
            <a class="nav-link" href="/sales-dashboard">
              <i class="fas fa-chart-bar sales-icon"></i>
              Sales Analytics
            </a>
          </li>
          {% endif %}
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container-fluid">
        <h1 class="mb-4">Analytics Overview</h1>

        <!-- Department Summaries -->
        <div class="row">
          {% if current_user.role == 'admin' or current_user.department == 'HR'
          %}
          <!-- HR Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-success text-white">
                <h5 class="card-title mb-0">
                  <i class="fas fa-users me-2"></i>HR Analytics Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">Employee Performance</h6>
                    <p class="h4 mb-3">85%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Training Completion</h6>
                    <p class="h4 mb-3">92%</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a href="/hr-dashboard" class="btn btn-outline-success"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Supply Chain' %}
          <!-- Supply Chain Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                  <i class="fas fa-truck me-2"></i>Supply Chain Analytics
                  Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">On-time Delivery</h6>
                    <p class="h4 mb-3">78%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Inventory Turnover</h6>
                    <p class="h4 mb-3">4.2x</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a
                    href="/supply-chain-dashboard"
                    class="btn btn-outline-primary"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Transport' %}
          <!-- Transport Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-warning text-dark">
                <h5 class="card-title mb-0">
                  <i class="fas fa-shipping-fast me-2"></i>Transport Analytics
                  Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">Delivery Success Rate</h6>
                    <p class="h4 mb-3">91%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Fuel Efficiency</h6>
                    <p class="h4 mb-3">8.5 km/L</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a href="/transport-dashboard" class="btn btn-outline-warning"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'IT' %}
          <!-- IT Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-secondary text-white">
                <h5 class="card-title mb-0">
                  <i class="fas fa-laptop-code me-2"></i>IT Analytics Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">System Uptime</h6>
                    <p class="h4 mb-3">99.9%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Ticket Resolution</h6>
                    <p class="h4 mb-3">2.5 hrs</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a href="/it-dashboard" class="btn btn-outline-secondary"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Production' %}
          <!-- Production Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-danger text-white">
                <h5 class="card-title mb-0">
                  <i class="fas fa-industry me-2"></i>Production Analytics
                  Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">Efficiency Rate</h6>
                    <p class="h4 mb-3">87%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Quality Score</h6>
                    <p class="h4 mb-3">96%</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a href="/production-dashboard" class="btn btn-outline-danger"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %} {% if current_user.role == 'admin' or
          current_user.department == 'Sales' %}
          <!-- Sales Summary -->
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-header bg-info text-white">
                <h5 class="card-title mb-0">
                  <i class="fas fa-chart-bar me-2"></i>Sales Analytics Summary
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h6 class="text-muted">Revenue Growth</h6>
                    <p class="h4 mb-3">12.5%</p>
                  </div>
                  <div class="col-md-6">
                    <h6 class="text-muted">Conversion Rate</h6>
                    <p class="h4 mb-3">3.8%</p>
                  </div>
                </div>
                <div class="mt-3">
                  <a href="/sales-dashboard" class="btn btn-outline-info"
                    >View Details</a
                  >
                </div>
              </div>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </main>

    <style>
      .bg-purple {
        background-color: #9c27b0;
      }
      .btn-outline-purple {
        color: #9c27b0;
        border-color: #9c27b0;
      }
      .btn-outline-purple:hover {
        color: #fff;
        background-color: #9c27b0;
        border-color: #9c27b0;
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Add active class to current page link
      document.addEventListener("DOMContentLoaded", function () {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll(".nav-link");

        navLinks.forEach((link) => {
          if (link.getAttribute("href") === currentPath) {
            link.classList.add("active");
          }
        });
      });
    </script>
  </body>
</html>
